# 💰 智能记账功能使用指南

## 🎯 功能概述

智能记账管理是本系统的核心功能之一，支持手动记账和批量导入两种方式，特别针对微信支付和支付宝支付的历史消费明细进行了优化。

## ✨ 主要特性

### 🔧 手动记账
- **快速录入**: 支持收入、支出的快速录入
- **智能分类**: 基于关键词的自动分类功能
- **多账户支持**: 支持微信支付、支付宝、银行卡、现金等多种账户
- **实时统计**: 自动计算月度收支和净收益

### 📊 批量导入
- **微信支付导入**: 支持微信账单Excel文件的批量导入
- **支付宝导入**: 支持支付宝账单Excel文件的批量导入
- **数据预览**: 导入前可预览解析结果
- **重复检测**: 自动检测并跳过重复的交易记录
- **进度跟踪**: 实时显示导入进度

### 🤖 智能功能
- **自动分类**: 基于交易描述智能分类
- **数据验证**: 自动验证数据格式和完整性
- **模板下载**: 提供标准的导入模板

## 📝 使用方法

### 1. 手动记账

1. **点击"手动记账"按钮**
2. **填写交易信息**:
   - 交易日期
   - 金额（正数为收入，负数为支出）
   - 交易描述
   - 分类
   - 账户
   - 备注（可选）
3. **点击"添加"保存**

### 2. 微信支付数据导入

#### 步骤1: 获取微信账单
1. 打开微信 → 我 → 支付 → 钱包 → 账单
2. 点击右上角 → 选择账单下载
3. 选择时间范围，下载Excel格式文件

#### 步骤2: 导入数据
1. 在记账页面点击"批量导入"
2. 选择"微信支付"标签页
3. 可先下载导入模板查看格式要求
4. 点击"选择Excel文件"上传微信账单文件
5. 系统自动解析并显示预览
6. 确认无误后点击"确认导入"

#### 支持的微信字段:
- **交易时间**: 必填，支持多种日期格式
- **商品**: 交易描述，用于自动分类
- **金额(元)**: 必填，正数为收入，负数为支出
- **当前状态**: 交易状态
- **备注**: 可选备注信息

### 3. 支付宝数据导入

#### 步骤1: 获取支付宝账单
1. 打开支付宝 → 我的 → 账单
2. 点击右上角设置 → 账单下载
3. 选择时间范围并下载Excel格式文件

#### 步骤2: 导入数据
1. 在记账页面点击"批量导入"
2. 选择"支付宝"标签页
3. 可先下载导入模板查看格式要求
4. 点击"选择Excel文件"上传支付宝账单文件
5. 系统自动解析并显示预览
6. 确认无误后点击"确认导入"

#### 支持的支付宝字段:
- **交易创建时间**: 必填，支持多种日期格式
- **商品名称**: 交易描述，用于自动分类
- **金额（元）**: 必填，正数为收入，负数为支出
- **交易状态**: 交易状态
- **备注**: 可选备注信息

## 🧠 智能分类规则

系统会根据交易描述自动分类，支持的分类包括：

| 分类 | 关键词 |
|------|--------|
| 餐饮 | 餐厅、咖啡、外卖、美团、饿了么、麦当劳、肯德基、星巴克 |
| 交通 | 滴滴、出租车、公交、地铁、加油、停车、高铁、飞机 |
| 购物 | 淘宝、京东、拼多多、超市、商场、服装、化妆品 |
| 娱乐 | 电影、游戏、KTV、健身、旅游 |
| 生活 | 水电费、房租、物业、电话费、网费 |
| 医疗 | 医院、药店、体检、诊所 |
| 教育 | 学费、培训、书籍、课程 |
| 薪资 | 工资、奖金、分红 |

## 📊 数据管理

### 筛选和搜索
- **按类型筛选**: 收入/支出
- **按平台筛选**: 微信支付/支付宝/手动录入
- **按时间筛选**: 支持日期范围选择
- **关键词搜索**: 支持描述和备注的模糊搜索

### 编辑和删除
- **编辑交易**: 点击编辑按钮修改交易信息
- **删除交易**: 支持单条删除，有确认提示
- **批量操作**: 支持多选批量删除（开发中）

## 📈 统计分析

系统提供实时的财务统计：

- **本月收入**: 当月所有收入总计
- **本月支出**: 当月所有支出总计
- **净收益**: 收入减去支出的净值
- **交易笔数**: 总交易次数

## ⚠️ 注意事项

### 数据格式要求
1. **Excel文件**: 仅支持.xlsx和.xls格式
2. **日期格式**: 支持"YYYY-MM-DD"、"YYYY/MM/DD"等常见格式
3. **金额格式**: 支持带货币符号的金额，系统会自动清理格式

### 导入注意事项
1. **重复检测**: 系统会根据日期、描述、金额检测重复记录
2. **数据备份**: 导入前建议备份现有数据
3. **分批导入**: 建议大量数据分批导入，每批不超过1000条

### 性能建议
1. **定期清理**: 定期清理不需要的历史数据
2. **分类整理**: 合理使用分类功能便于后续分析
3. **备注完善**: 重要交易建议添加详细备注

## 🔮 未来功能

- [ ] **OCR识别**: 支持拍照识别票据
- [ ] **语音记账**: 支持语音输入交易信息
- [ ] **定期交易**: 支持设置定期收支项目
- [ ] **多币种支持**: 支持外币交易记录
- [ ] **API同步**: 支持银行API直连同步
- [ ] **标签系统**: 更灵活的标签分类系统

## 🆘 常见问题

### Q: 导入的数据格式不正确怎么办？
A: 可以下载对应平台的导入模板，按照模板格式整理数据后重新导入。

### Q: 如何处理重复的交易记录？
A: 系统会自动检测重复记录并跳过，您也可以在导入后手动删除重复项。

### Q: 智能分类不准确怎么办？
A: 导入后可以手动编辑交易记录修改分类，系统会学习您的分类习惯。

### Q: 能否自定义分类？
A: 目前支持预设分类，自定义分类功能正在开发中。

### Q: 导入失败怎么办？
A: 请检查文件格式是否正确，确保Excel文件没有密码保护，数据行数不超过限制。

---

💡 **小贴士**: 建议定期导入账单数据，保持财务记录的及时性和准确性，这样才能更好地分析消费习惯和制定预算计划。 